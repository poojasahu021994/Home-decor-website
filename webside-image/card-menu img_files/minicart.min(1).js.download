define(['jquery','Magento_Customer/js/customer-data'],function($,customerData){'use strict';var self=this;var getCustomerInfo=function(){var customer=customerData.get('customer');return customer();};var isLoggedIn=function(customerInfo){customerInfo=customerInfo||getCustomerInfo();return customerInfo&&customerInfo.firstname;};return function(Component){return Component.extend({initialize:function(){var self=this;return this._super();},closeMinicart:function(){$('[data-block="minicart"]').find('[data-role="dropdownDialog"]').dropdownDialog('close');$("[data-block='minicart']").on("dropdowndialogclose",(e)=>{var deferred=$.Deferred();var customerInfo=getCustomerInfo();var loggedIn;customerData.reload(['customer'],false).done(function(){if(isLoggedIn()){window.location.href=window.checkout.checkoutUrl;}else{window.location.href=window.checkout.customerLoginUrl;return false;}}).fail(function(){window.location.href=window.checkout.customerLoginUrl;return false;});});}});}});